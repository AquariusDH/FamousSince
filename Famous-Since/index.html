<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Famous Since — Limited Streetwear Drops</title>
  <meta name="description" content="Famous Since — no cosign. No shortcuts. Just the grind. Limited streetwear drops." />
  <meta name="theme-color" content="#0A0A0A" />

  <!-- Favicon / Manifest -->
  <link rel="icon" href="/assets/favicon.ico" sizes="any">
  <link rel="manifest" href="/manifest.webmanifest">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- Open Graph / Twitter -->
  <meta property="og:title" content="Famous Since — Limited Drops">
  <meta property="og:description" content="No cosign. No shortcuts. Just the grind.">
  <meta property="og:image" content="https://famous-since.vercel.app/assets/og-mascot.jpg">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://famous-since.vercel.app/">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Famous Since — Limited Drops">
  <meta name="twitter:description" content="No cosign. No shortcuts. Just the grind.">
  <meta name="twitter:image" content="https://famous-since.vercel.app/assets/og-mascot.jpg">

  <!-- Site CSS -->
  <link rel="stylesheet" href="/styles.css" />

  <!-- Tiny critical helpers (safe overrides only for quick wins) -->
  <style>
    /* Skip link */
    .skip-link{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
    .skip-link:focus{left:1rem;top:1rem;width:auto;height:auto;padding:.6rem .8rem;background:#fff;color:#000;border-radius:.5rem;z-index:9999}

    /* Hero mascot overlay */
    .hero__fx img{
      position:absolute; inset:auto 5% 6% auto; opacity:.9;
      mix-blend-mode:lighten; filter:drop-shadow(0 30px 50px rgba(0,0,0,.6));
      max-width:min(38vw, 900px); height:auto; pointer-events:none;
    }
    @media (max-width: 768px){
      .hero__fx img{inset:auto 0 0 0; margin-inline:auto; max-width:72vw}
    }

    /* Countdown badge */
    .drop{
      position:absolute; left:50%; transform:translateX(-50%);
      bottom:1.25rem; display:flex; gap:.5rem; align-items:center;
      padding:.4rem .7rem; border:1px solid rgba(255,255,255,.18);
      background:rgba(10,10,10,.6); backdrop-filter:blur(6px);
      border-radius:.6rem; font:600 0.9rem/1.2 "Space Grotesk",system-ui;
      color:#fff; letter-spacing:.02em;
    }
    .drop strong{font-weight:700; font-variant-numeric:tabular-nums}
    .hero{position:relative}
    .hero__media{position:relative}
    .hero__media::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.05),rgba(0,0,0,.55))}
    /* Motion reduction: hide video, keep poster/overlay look */
    @media (prefers-reduced-motion: reduce){
      #heroVideo{display:none !important}
    }
  </style>

  <!-- Schema.org JSON-LD -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Organization",
    "name":"Famous Since",
    "url":"https://famous-since.vercel.app",
    "logo":"https://famous-since.vercel.app/assets/logo.svg",
    "sameAs":["https://instagram.com/yourhandle","https://www.tiktok.com/@yourhandle","https://x.com/yourhandle"]
  }
  </script>
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebSite",
    "url":"https://famous-since.vercel.app",
    "potentialAction":{
      "@type":"SearchAction",
      "target":"https://famous-since.vercel.app/?q={search_term_string}",
      "query-input":"required name=search_term_string"
    }
  }
  </script>
</head>
<body>
  <a class="skip-link" href="#main">Skip to main content</a>

  <!-- SVG symbols for icons (inline for easy use) -->
  <svg width="0" height="0" style="position:absolute" aria-hidden="true">
    <symbol id="icon-cart" viewBox="0 0 24 24"><path fill="currentColor" d="M7 4h-2l-1 2h2l3.6 7.59-1.35 2.45A1.99 1.99 0 0 0 9.99 19h9v-2h-8.42a.25.25 0 0 1-.22-.37L11.1 14h5.55a2 2 0 0 0 1.79-1.11l3.58-7.16A1 1 0 0 0 21.1 4H7zM7 20a2 2 0 1 0 .001 3.999A2 2 0 0 0 7 20zm10 0a2 2 0 1 0 .001 3.999A2 2 0 0 0 17 20z"/></symbol>
    <symbol id="icon-chevron" viewBox="0 0 24 24"><path fill="currentColor" d="M9 6l6 6-6 6"/></symbol>
    <symbol id="icon-close" viewBox="0 0 24 24"><path fill="currentColor" d="M18.3 5.71L12 12.01l-6.3-6.3L4.29 7.1 10.59 13.4l-6.3 6.29 1.41 1.42L12 14.82l6.29 6.29 1.42-1.42-6.3-6.29 6.3-6.3z"/></symbol>
    <symbol id="icon-play" viewBox="0 0 24 24"><path fill="currentColor" d="M8 5v14l11-7z"/></symbol>
    <symbol id="icon-pause" viewBox="0 0 24 24"><path fill="currentColor" d="M6 5h4v14H6zm8 0h4v14h-4z"/></symbol>
    <symbol id="icon-tiktok" viewBox="0 0 24 24"><path fill="currentColor" d="M17 3h3a7 7 0 0 0 1 3 7 7 0 0 1-4-1v9a6 6 0 1 1-6-6c.34 0 .67.03 1 .08V10a3.99 3.99 0 1 0 3 3.87V3z"/></symbol>
    <symbol id="icon-instagram" viewBox="0 0 24 24"><path fill="currentColor" d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm5 5a5 5 0 1 0 .001 9.999A5 5 0 0 0 12 7zm6.5-1.75a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5z"/></symbol>
    <symbol id="icon-x" viewBox="0 0 24 24"><path fill="currentColor" d="M4 4h3.5l4.2 6 4.2-6H20l-6.5 9.2L20 20h-3.5l-4.3-6.2L8 20H4l6.6-9.1L4 4z"/></symbol>
  </svg>

  <header class="site-header" data-auto-hide>
    <div class="container header-inner">
      <a href="#" class="brand" aria-label="Famous Since home">
        <img src="/assets/logo.svg" alt="Famous Since." width="180" height="36" />
      </a>
      <nav aria-label="Primary">
        <ul class="nav">
          <li><a href="#shop" class="nav__link">Shop</a></li>
          <li><a href="#lookbook" class="nav__link">Lookbook</a></li>
          <li><a href="#about" class="nav__link">About</a></li>
        </ul>
      </nav>
      <button class="icon-btn cart-btn" aria-haspopup="dialog" aria-controls="cart-drawer" aria-label="Open cart">
        <svg class="icon"><use href="#icon-cart"/></svg>
        <span class="cart-count" aria-live="polite">0</span>
      </button>
    </div>
  </header>

  <main id="main">
    <section class="hero" aria-label="Lookbook Reel">
      <div class="hero__media">
        <!-- Poster improves LCP; video is hidden for reduced motion users -->
        <video id="heroVideo" class="hero__video" autoplay muted loop playsinline preload="metadata"
               poster="/assets/video/loop-city-poster.jpg">
          <source src="/assets/video/loop-city.mp4" type="video/mp4" />
        </video>
        <div class="hero__overlay"></div>
      </div>

      <!-- Mascot overlay (shadow-play) -->
      <div class="hero__fx">
        <!-- Update path if needed -->
        <img src="/assets/famous_since_mascot.png" alt="Famous Since mascot on throne" decoding="async" loading="eager" width="900" height="1200">
      </div>

      <div class="container hero__content">
        <h1 class="hero__title">Famous Since <span id="rotator" aria-live="polite">______</span></h1>
        <p class="hero__sub">No cosign. No shortcuts. Just the grind.</p>
        <div class="hero__ctas">
          <a href="#shop" class="btn btn--primary">Shop the Drop</a>
          <a href="https://instagram.com/" class="btn btn--ghost" target="_blank" rel="noopener">Follow on IG</a>
        </div>
      </div>

      <!-- Countdown (edit the date in data-deadline; ISO 8601). If empty, defaults to 7 days from now. -->
      <div class="drop" id="dropbar" data-deadline="">
        <span>Next Drop:</span><strong id="countdown">--:--:--</strong>
      </div>

      <button class="hero__toggle" aria-controls="heroVideo" aria-pressed="true">
        <svg class="icon"><use href="#icon-pause"/></svg>
        <span class="visually-hidden">Pause background video</span>
      </button>
      <div class="marquee" aria-hidden="true">
        <div class="marquee__track">FAMOUS SINCE • NO COSIGN • 24/7 • FAMOUS SINCE • NO COSIGN • 24/7 •</div>
      </div>
      <noscript>
        <img src="/assets/video/loop-city-poster.jpg" alt="City texture background" width="1920" height="1080" />
      </noscript>
    </section>

    <section class="social" aria-label="Social bar">
      <div class="container social__inner">
        <div class="social__icons">
          <a href="#" aria-label="TikTok" class="icon-link"><svg class="icon"><use href="#icon-tiktok"/></svg></a>
          <a href="#" aria-label="Instagram" class="icon-link"><svg class="icon"><use href="#icon-instagram"/></svg></a>
          <a href="#" aria-label="X" class="icon-link"><svg class="icon"><use href="#icon-x"/></svg></a>
        </div>
        <div class="social__tag">#FamousSince <span id="tagCount">0</span></div>
      </div>
    </section>

    <section id="shop" class="shop">
      <div class="container">
        <div class="shop__head">
          <h2 class="section-title">Shop</h2>
          <div class="chips" role="tablist" aria-label="Filter products">
            <button class="chip is-active" data-filter="All" role="tab" aria-selected="true">All</button>
            <button class="chip" data-filter="Core" role="tab">Core</button>
            <button class="chip" data-filter="Seasonal" role="tab">Seasonal</button>
            <button class="chip" data-filter="Limited" role="tab">Limited</button>
          </div>
        </div>

        <!-- While JS filters/populates, announce busy state -->
        <div id="grid" class="grid reveal" aria-busy="false"></div>

        <!-- Optional product-card template with responsive image pattern -->
        <template id="product-card-tpl">
          <article class="card">
            <a class="card__link" href="#" data-sku="">
              <img class="card__img" alt=""
                   src="/assets/img/placeholder_600.jpg"
                   srcset="/assets/img/placeholder_400.jpg 400w,
                           /assets/img/placeholder_800.jpg 800w,
                           /assets/img/placeholder_1200.jpg 1200w"
                   sizes="(max-width:600px) 50vw, (max-width:1024px) 33vw, 25vw"
                   loading="lazy" decoding="async" width="600" height="750">
              <div class="card__meta">
                <h3 class="card__title"></h3>
                <span class="card__price"></span>
              </div>
            </a>
          </article>
        </template>
      </div>
    </section>

    <section id="lookbook" class="lookbook">
      <div class="container">
        <h2 class="section-title">Lookbook</h2>
        <p class="muted">A rotating cut from the hero reel and product carousels.</p>
      </div>
    </section>

    <section id="about" class="about">
      <div class="container">
        <h2 class="section-title">About</h2>
        <p class="muted">Built with static files and love. Designed for speed and clarity.</p>
      </div>
    </section>
  </main>

  <!-- Product Modal -->
  <div id="product-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="productTitle" hidden>
    <div class="modal__backdrop" data-close="modal"></div>
    <div class="modal__dialog" role="document">
      <button class="icon-btn modal__close" aria-label="Close product" data-close="modal">
        <svg class="icon"><use href="#icon-close"/></svg>
      </button>
      <div class="modal__body">
        <div class="modal__gallery">
          <button class="carousel__btn prev" aria-label="Previous image"><svg class="icon"><use href="#icon-chevron"/></svg></button>
          <div class="carousel__track"></div>
          <button class="carousel__btn next" aria-label="Next image"><svg class="icon"><use href="#icon-chevron"/></svg></button>
        </div>
        <div class="modal__info">
          <h3 id="productTitle" class="modal__title"></h3>
          <div class="modal__price"></div>
          <div class="modal__sizes" role="group" aria-label="Choose size"></div>
          <div class="qty">
            <label for="qtyInput">Qty</label>
            <div class="qty__ctrl">
              <button class="qty__btn" data-step="-1" aria-label="Decrease quantity">–</button>
              <input id="qtyInput" class="qty__input" inputmode="numeric" value="1" aria-live="polite"/>
              <button class="qty__btn" data-step="1" aria-label="Increase quantity">+</button>
            </div>
          </div>
          <button class="btn btn--primary add-to-cart">Add to Cart</button>
          <details class="accordion">
            <summary>Details</summary>
            <div class="accordion__content" id="detailsContent"></div>
          </details>
          <details class="accordion">
            <summary>Shipping</summary>
            <div class="accordion__content">Ships in 3–5 business days. Free returns within 30 days.</div>
          </details>
          <p class="muted shipping-note">Note: Some items may not have checkout configured.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Cart Drawer -->
  <aside id="cart-drawer" class="drawer" role="dialog" aria-modal="true" aria-label="Cart" hidden>
    <div class="drawer__backdrop" data-close="drawer"></div>
    <div class="drawer__panel" role="document" tabindex="-1">
      <div class="drawer__head">
        <h3>Cart</h3>
        <button class="icon-btn" aria-label="Close cart" data-close="drawer"><svg class="icon"><use href="#icon-close"/></svg></button>
      </div>
      <div class="drawer__body">
        <ul class="cart-list"></ul>
      </div>
      <div class="drawer__foot">
        <div class="subtotal">Subtotal: <strong>$<span id="subtotal">0.00</span></strong></div>
        <div class="drawer__actions">
          <button class="btn btn--ghost continue">Continue Shopping</button>
          <button class="btn btn--primary checkout">Checkout</button>
        </div>
      </div>
    </div>
  </aside>

  <footer class="site-foot">
    <div class="container foot__grid">
      <form id="emailForm" class="email" novalidate>
        <label for="emailInput">Join the list for early drops.</label>
        <div class="email__row">
          <input id="emailInput" type="email" placeholder="you@example.com" autocomplete="email" required />
          <button class="btn btn--primary">Subscribe</button>
        </div>
        <p id="emailMsg" class="muted" role="status"></p>
      </form>
      <nav class="foot__links" aria-label="Footer">
        <a href="#shop">Shop</a>
        <a href="#lookbook">Lookbook</a>
        <a href="#about">About</a>
        <a href="#">Contact</a>
      </nav>
      <div class="foot__legal">© Famous Since. All rights reserved.</div>
    </div>
  </footer>

  <div id="toast" class="toast" role="status" aria-live="polite" hidden></div>

  <!-- Your app -->
  <script defer src="/app.js"></script>

  <!-- Minimal inline JS for quick wins (safe to keep or move into app.js) -->
  <script>
    // Countdown (reads data-deadline on #dropbar; if empty, defaults to 7 days from now)
    (function(){
      const el = document.getElementById('countdown');
      const bar = document.getElementById('dropbar');
      if(!el || !bar) return;
      let deadlineStr = bar.getAttribute('data-deadline');
      let deadline = deadlineStr ? new Date(deadlineStr) : new Date(Date.now() + 7*24*60*60*1000);
      if(isNaN(deadline)) { bar.hidden = true; return; }
      const tick = () => {
        const t = deadline - new Date();
        if (t <= 0) { el.textContent = "LIVE"; return; }
        const h = String(Math.floor(t/3.6e6)).padStart(2,'0');
        const m = String(Math.floor((t%3.6e6)/6e4)).padStart(2,'0');
        const s = String(Math.floor((t%6e4)/1e3)).padStart(2,'0');
        el.textContent = `${h}:${m}:${s}`;
        requestAnimationFrame(()=>setTimeout(tick, 250));
      };
      tick();
    })();

    // Defer hero video playback until visible (for LCP)
    (function(){
      const v = document.getElementById('heroVideo');
      if(!v) return;
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (prefersReduced) { try{ v.pause(); }catch(e){} return; }
      if ('IntersectionObserver' in window){
        const io = new IntersectionObserver((entries)=>{
          entries.forEach(e=>{
            if(e.isIntersecting){
              v.play().catch(()=>{});
              io.disconnect();
            }
          });
        },{rootMargin:'200px 0px'});
        io.observe(v);
      } else {
        v.play().catch(()=>{});
      }
    })();
  </script>
</body>
</html>
